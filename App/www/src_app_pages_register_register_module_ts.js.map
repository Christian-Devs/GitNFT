{"version":3,"sources":["./src/app/pages/register/register-routing.module.ts","./src/app/pages/register/register.module.ts","./src/app/pages/register/register.page.ts","./src/app/pages/register/register.page.scss","./src/app/pages/register/register.page.html"],"names":[],"mappings":"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","file":"src_app_pages_register_register_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { RegisterPage } from './register.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RegisterPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RegisterPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RegisterPageRoutingModule } from './register-routing.module';\n\nimport { RegisterPage } from './register.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RegisterPageRoutingModule\n  ],\n  declarations: [RegisterPage]\n})\nexport class RegisterPageModule {}\n","import {Component, OnInit} from '@angular/core';\nimport {Router} from '@angular/router';\nimport {AuthService} from '../../services/auth.service';\nimport {UtilityServiceService} from '../../services/utility-service.service';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.page.html',\n  styleUrls: ['./register.page.scss'],\n})\nexport class RegisterPage implements OnInit {\n\n  constructor(\n    private authService: AuthService,\n    private utilService: UtilityServiceService,\n    private router: Router) {\n  }\n\n  ngOnInit(): void {\n    this.utilService.user = null;\n    if (this.authService.isLoggedIn()) {\n      this.router.navigate(['register-github']);\n    }\n  }\n\n  // username = '';\n  email = '';\n  password = '';\n  dupPass = '';\n\n  error: string | null = null;\n  passerror: string | null = null;\n\n  async registerUser(isAdmin = false) {\n    this.error = null;\n    this.passerror = null;\n    try {\n      let res = /^[a-zA-Z0-9_\\.]{6,}$/.exec(this.email);\n      let valid = !!res;\n      // if (!valid) {\n      //   this.error = 'Regex mismatch. The username does not meet the criteria.';\n      //   return;\n      // }\n\n      res = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.exec(this.email);\n      valid = !!res;\n      if (!valid) {\n        this.error = 'Regex mismatch. The email is invalid.';\n        return;\n      }\n\n\n      res = /^.{6,}$/.exec(this.password);\n      valid = !!res;\n      if (!valid) {\n        this.error = 'Regex mismatch. The password is too short.';\n        return;\n      }\n\n      if (this.password !== this.dupPass) {\n        this.passerror = 'Passwords do not match.';\n        return;\n      } else {\n        await this.authService.register(\n          this.email,\n          this.email,\n          this.password\n        );\n      }\n      await this.router.navigateByUrl('register-github');\n    } catch (err) {\n      this.error = err;\n    }\n  }\n\n  goToLogin() {\n    this.router.navigateByUrl('login');\n  }\n}\n","export default \"ion-item {\\n  --background: #787878;\\n  --color: #fff;\\n}\\n\\nion-button {\\n  --background: #f28705;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlZ2lzdGVyLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHFCQUFBO0VBQ0EsYUFBQTtBQUNKOztBQUVBO0VBQ0kscUJBQUE7QUFDSiIsImZpbGUiOiJyZWdpc3Rlci5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24taXRlbXtcbiAgICAtLWJhY2tncm91bmQ6ICM3ODc4Nzg7XG4gICAgLS1jb2xvcjogI2ZmZjtcbn1cblxuaW9uLWJ1dHRvbntcbiAgICAtLWJhY2tncm91bmQ6ICNmMjg3MDU7XG59Il19 */\";","export default \"<div class=\\\"bg-dark py-5 h-100 d-flex align-items-center justify-content-center flex-column\\\">\\n  <h1 class=\\\"text-white mt-5 mb-5\\\">GitNFT</h1>\\n  <div class=\\\"w-100 d-flex flex-column justify-content-between h-100\\\">\\n    <div class=\\\"px-5 w-100\\\">\\n<!--      <input [ngModel]=\\\"username\\\" class=\\\"form-control m-2 mb-1\\\" placeholder=\\\"Username\\\">-->\\n      <input [(ngModel)]=\\\"email\\\" class=\\\"form-control m-2 mb-1\\\" placeholder=\\\"Email\\\">\\n      <input [(ngModel)]=\\\"password\\\" type=\\\"password\\\" class=\\\"form-control m-2 mt-1\\\" placeholder=\\\"Password\\\">\\n      <input type=\\\"password\\\" [(ngModel)]=\\\"dupPass\\\" class=\\\"form-control m-2 mt-1\\\" placeholder=\\\"Repeat Password\\\">\\n      <div *ngIf=\\\"error\\\" class=\\\"alert alert-danger\\\">{{error}}</div>\\n    </div>\\n    <div class=\\\"w-100 px-5\\\">\\n      <button (click)=\\\"registerUser()\\\" class=\\\"btn btn-success m-2 mt-4 w-100\\\">Register</button>\\n      <hr>\\n      <button (click)=\\\"goToLogin()\\\" class=\\\"btn btn-secondary m-2 w-100\\\">Login</button>\\n    </div>\\n  </div>\\n</div>\\n\";"],"sourceRoot":"webpack:///"}